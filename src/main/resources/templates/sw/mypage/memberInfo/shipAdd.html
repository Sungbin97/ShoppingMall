<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <h2>마이페이지-배송지 신규등록화면</h2>

    <form th:action="@{/sw/mypage/memberInfo/shipAdd}" method="post">
        <input type="hidden" name="mno" th:value="${mno}" readonly>
        <div>
            <input type="text" name="postcode" placeholder="우편번호" readonly />
        </div>
        <div>
            <button type="button" id="getPostCode">우편번호 찾기</button>
        </div>
        <div>
            <input type="text" name="address" placeholder="도로명 주소" readonly/>
        </div>
        <div>
            <input type="text" name="detailAddress" placeholder="상세 주소" required/>
        </div>
        <input type="submit" value="신규 등록">
    </form>

</body>
<!-- 카카오(다음) 우편번호 검색 API 사용 위해 추가 -->
<script src="http://dmaps.daum.net/map_js_init/postcode.v2.js?autoload=false"></script>
<script>

    $(document).ready(function (){

        // 우편번호 검색 버튼 클릭하면
        $("#getPostCode").click(function (){
            daum.postcode.load(function(){
                new daum.Postcode({
                    oncomplete: function(data) {
                        // 우편번호 검색 후 주소 클릭하면 아래 실행
                        $("input[name=postcode]").val(data.zonecode); // 우편번호 태그에 값 업데이트
                        $("input[name=address]").val(data.roadAddress); // 주소 태그에 값 업데이트
                    }
                }).open();
            });
        })

        // 뒤로가기 버튼 클릭하면 동작
        $("input[type=submit]").click(function (){
            alert("배송지 등록이 완료되었습니다. 이전 페이지로 돌아갑니다.")
        })
    })
</script>
</html>